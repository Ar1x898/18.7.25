<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Locked Gallery</title>
  <meta name="description" content="A simple, customizable locked gallery with click-to-reveal notes." />
  <style>
    :root{
      /* ==== THEME (edit freely) ==== */
      --bg: #0b0f14;
      --surface: #121821;
      --card: #0e141c;
      --edge: #1e293b;
      --text: #e5e7eb;
      --muted: #94a3b8;
      --accent: #5eead4;
      --accent-2: #60a5fa;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --maxw: 1200px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 900px at 20% -20%, #0b1320 0%, var(--bg) 60%);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .hidden { display: none !important; }

    header{
      position: sticky; top:0; z-index: 5;
      background: linear-gradient(0deg, #0b0f1400, #0b0f1490);
      backdrop-filter: blur(6px);
      border-bottom: 1px solid var(--edge);
    }
    .bar{
      max-width: var(--maxw);
      margin: 0 auto;
      padding: 14px 20px;
      display: flex; align-items: center; justify-content: space-between;
      gap: 12px;
    }
    .title{
      font-weight: 700; letter-spacing:.2px;
      display:flex; align-items:center; gap:10px;
    }
    .dot{ width:10px; height:10px; border-radius:50%; background: var(--accent); box-shadow: 0 0 9px var(--accent); }

    .btn{
      border: 1px solid var(--edge);
      background: linear-gradient(180deg, #0e1622, #0b1018);
      color: var(--text);
      border-radius: 999px; padding: 10px 14px;
      cursor: pointer; font-weight:600;
    }
    .btn:hover{ border-color:#334155; }
    .btn:active{ transform: translateY(1px); }

    main{ max-width: var(--maxw); margin: 28px auto; padding: 0 20px 40px; }

    .grid{
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 16px;
    }
    @media (max-width: 1100px){ .grid{ grid-template-columns: repeat(8, 1fr);} }
    @media (max-width: 740px){ .grid{ grid-template-columns: repeat(4, 1fr);} }

    .card{
      grid-column: span 4;
      background: linear-gradient(180deg, #0d141e, var(--card));
      border: 1px solid var(--edge);
      border-radius: var(--radius);
      overflow: clip;
      box-shadow: var(--shadow);
      position: relative;
      transition: transform .2s ease, border-color .2s ease, box-shadow .2s ease;
      isolation: isolate;
    }
    .card:hover{ transform: translateY(-2px); border-color:#2a3a52; box-shadow: 0 16px 40px rgba(0,0,0,.45); }
    .card img{
      width:100%; height: 220px; display:block; object-fit: cover; background:#0a0f16;
      user-select: none; -webkit-user-drag: none;
    }
    .card .controls{
      display:flex; align-items:center; justify-content: space-between; gap:8px;
      padding: 10px 12px;
      border-top: 1px solid var(--edge);
      background: linear-gradient(180deg, #0b1119, #0a0f16);
    }
    .label{
      font-size: 14px; color: var(--muted);
      overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
    }
    .note-toggle{
      border: 1px solid var(--edge);
      background: linear-gradient(180deg, #0f172a, #0b1020);
      color: var(--text);
      border-radius: 10px; padding:8px 10px; font-weight:600; cursor:pointer;
    }
    .note-toggle:hover{ border-color:#334155;}
    .note{
      position:absolute; inset:auto 10px 10px 10px;
      background: linear-gradient(180deg, rgba(3,7,18,.96), rgba(15,23,42,.96));
      border:1px solid #334155;
      border-radius: 12px;
      padding: 12px 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,.5);
      transform: translateY(6px);
      transition: opacity .18s ease, transform .18s ease;
    }
    .note[hidden]{ opacity:0; transform: translateY(12px); pointer-events: none; }
    .note p{ margin:0; line-height: 1.45; color: #e2e8f0; }
    .note small{ color: var(--muted); display:block; margin-top:8px; }

    /* ==== ACCESS GATE ==== */
    .gate {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: grid;
  place-items: center;
  background: url('https://github.com/Ar1x898/18.7.25/raw/main/binary.jpg') center/cover no-repeat;
  font-family: 'Courier New', Courier, monospace;
  color: #00ffcc;
  text-shadow: 0 0 5px #00ffcc;
  padding: 20px;
}

.panel {
  width: min(560px, 92vw);
  background: rgba(0, 0, 0, 0.8);
  border: 1px solid #00ffcc;
  border-radius: 12px;
  box-shadow: 0 0 20px #00ffccaa;
  padding: 24px;
}

    .panel{
      width: min(560px, 92vw);
      border: 1px solid var(--edge);
      background: linear-gradient(180deg, #0b1119, #0a0f16);
      border-radius: 18px;
      box-shadow: var(--shadow);
      padding: 22px;
    }
    .panel h1{ margin:0 0 4px; font-size: 20px; letter-spacing:.2px; }
    .panel p.sub{ margin:0 0 14px; color: var(--muted); font-size: 14px; }
    .field{
      display:flex; gap:10px; align-items:center;
      background: #0b0f14; border: 1px solid var(--edge);
      border-radius: 12px; padding: 10px 10px;
    }
    input[type="password"]{
      flex:1; background: transparent; border: none; outline: none;
      color: var(--text); font-size: 16px; padding: 6px 4px;
    }
    .unlock{
      white-space: nowrap;
      border:1px solid #2a3a52; background: linear-gradient(180deg, #102033, #0b1422);
      color: var(--text); border-radius: 10px; padding:10px 12px; font-weight:700; cursor:pointer;
    }
    .unlock:hover{ border-color:#3b82f6; }
    .msg{ min-height: 24px; margin-top:10px; color:#fda4af; font-weight:600; }
    .hint{ color: var(--muted); font-size: 12px; margin-top: 8px; }

    @keyframes shake {
      10%, 90% { transform: translateX(-1px); }
      20%, 80% { transform: translateX(2px); }
      30%, 50%, 70% { transform: translateX(-4px); }
      40%, 60% { transform: translateX(4px); }
    }
    .shake { animation: shake .35s both; }

    .footer-note{
      margin-top: 24px; font-size: 12px; color: var(--muted);
      border-top: 1px dashed var(--edge); padding-top: 12px;
    }

    noscript{
      display:block; max-width: 740px; margin: 40px auto; padding: 16px;
      border: 1px solid #b91c1c; border-radius: 12px; background:#7f1d1d; color: #fee2e2;
      font-weight: 600;
    }
    body {
  background: url('https://github.com/Ar1x898/18.7.25/raw/main/1month.jpg') center/cover no-repeat;
  color: #5c3d4c;
  font-family: 'Georgia', serif;
}

.card {
  background: linear-gradient(180deg, #fff0f5, #ffe4e1);
  border-color: #fbb6ce;
  box-shadow: 0 8px 20px rgba(255, 192, 203, 0.4);
}

.card:hover {
  transform: scale(1.02);
  border-color: #f472b6;
  box-shadow: 0 12px 28px rgba(255, 182, 193, 0.6);
}

.card .controls {
  background: #fff0f5;
  border-top: 1px solid #fbcfe8;
}

.note-toggle {
  background: #f9a8d4;
  border-color: #f472b6;
  color: white;
}

.note-toggle:hover {
  background: #f472b6;
}

.note {
  background: rgba(255, 240, 245, 0.95);
  border: 1px solid #f9a8d4;
  color: #5c3d4c;
}

.note p {
  color: #4b2e39;
}

.note small {
  color: #7c4d60;
}

.label {
  color: #933b4b;
}

header {
  background: linear-gradient(to right, #fbcfe8, #f9a8d4);
  border-bottom: 1px solid #f472b6;
}

.btn {
  background: #f472b6;
  color: white;
  border: none;
}

.btn:hover {
  background: #ec4899;
}

  </style>
</head>
<body>

<noscript>
  This site needs JavaScript to run. Enable JS to enter your access code and see the gallery.
</noscript>

<!-- ===== ACCESS GATE ===== -->
<div id="gate" class="gate" aria-labelledby="gateTitle">
  <div class="panel" id="gatePanel">
    <h1 id="gateTitle">Enter the access code</h1>
    <p class="sub">Only the person given this link personally should be able to open this! Or else keep out!!!</p>
    <form id="gateForm" autocomplete="off">
      <div class="field">
        <input id="pass" type="password" inputmode="text" placeholder="Access code" aria-label="Access code" required />
        <button class="unlock" type="submit">Unlock</button>
      </div>
      <div id="gateMsg" class="msg" role="alert" aria-live="polite"></div>
    </form>
    </div>
  </div>
</div>

<!-- ===== APP ===== -->
<header>
  <div class="bar">
    <div class="title"><span class="dot" aria-hidden="true"></span> <span id="siteTitle">Locked Gallery</span></div>
    <div class="actions">
      <button class="btn" id="lockBtn" title="Lock">Lock</button>
    </div>
  </div>
</header>

<main id="app" class="hidden" tabindex="-1">
  <section aria-label="Image notes gallery">
    <div id="gallery" class="grid" role="list"></div>
  </section>
</main>

<!-- =================== CONFIG ===================
  HOW TO CUSTOMIZE:
  1) Change siteTitle, colors (in :root), and behavior flags below.
  2) Replace CONFIG.images with your own images + notes.
     - Put files in an /assets folder in your repo (or use absolute URLs).
  3) Set one or more SHA-256 password hashes in CONFIG.passwordHashes.
     - To generate a SHA-256 hash in your browser console, run:

       (async () => {
         const s = "YOUR_ACCESS_CODE"; // change me
         const b = new TextEncoder().encode(s);
         const d = await crypto.subtle.digest("SHA-256", b);
         console.log([...new Uint8Array(d)].map(x => x.toString(16).padStart(2,"0")).join(""));
       })();

     - Paste the printed hex into the array below.

  NOTE: This is client-side only: itâ€™s a deterrent, not true security.
================================================= -->
<script>
  const CONFIG = {
    siteTitle: "1 Month Anniversary",
    clickAnywhereToToggle: true,  // click the picture itself to toggle note
    rememberHours: 24,            // how long to remember successful unlock in localStorage
    images: [
      // Replace with your own! (e.g., "assets/sunrise.jpg")
      { src: "assets/photo1.jpg", alt: "Sample image 1", label: "Photo #1", note: "This is an example note. Replace me." },
      { src: "assets/photo2.jpg", alt: "Sample image 2", label: "Photo #2", note: "Another note for your image." },
      { src: "assets/photo3.jpg", alt: "Sample image 3", label: "Photo #3", note: "Click again to hide this note." },
      // Add more entries like above.
    ],
    /* SHA-256 hashes of allowed access codes (hex, lowercase). Example below is for "changeme". Replace it! */
    passwordHashes: [
      "3976306e17c6d9bff19e990aa442e0b6ba233ea4b1854bde1e9d1abf7b036558" // "changeme" (example)
      // Add more hashes on new lines if you want multiple codes.
    ]
  };
</script>

<script>
  // ===== Utilities =====
  const STORAGE_KEY = "siteAuth.v1";
  const PLACEHOLDER_SVG = 'data:image/svg+xml;utf8,' + encodeURIComponent(
    `<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="800">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#1f2937"/><stop offset="100%" stop-color="#0b1020"/>
        </linearGradient>
      </defs>
      <rect width="100%" height="100%" fill="url(#g)"/>
      <g fill="#93c5fd" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" text-anchor="middle">
        <text x="50%" y="48%" font-size="36">Add your image at</text>
        <text x="50%" y="56%" font-size="28">CONFIG.images</text>
      </g>
    </svg>`
  );

  async function sha256Hex(text){
    const bytes = new TextEncoder().encode(text);
    const hash = await crypto.subtle.digest('SHA-256', bytes);
    return [...new Uint8Array(hash)].map(b => b.toString(16).padStart(2,'0')).join('');
  }

  function setRemembered(hash){
    try {
      const ttl = Math.max(1, Number(CONFIG.rememberHours) || 24);
      const rec = { hash, exp: Date.now() + ttl * 3600 * 1000 };
      localStorage.setItem(STORAGE_KEY, JSON.stringify(rec));
    } catch(_) {}
  }
  function hasValidRemember(){
    try {
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw) return false;
      const rec = JSON.parse(raw);
      if(!rec || typeof rec.hash !== 'string' || typeof rec.exp !== 'number') return false;
      if(Date.now() > rec.exp) { localStorage.removeItem(STORAGE_KEY); return false; }
      return CONFIG.passwordHashes.includes(rec.hash);
    } catch(_) { return false; }
  }
  function clearRemember(){ localStorage.removeItem(STORAGE_KEY); }

  function setSiteTitle(){
    const t = CONFIG.siteTitle || "Locked Gallery";
    document.title = t;
    const el = document.getElementById('siteTitle');
    if (el) el.textContent = t;
  }

  // ===== Gate logic =====
  const gate = document.getElementById('gate');
  const panel = document.getElementById('gatePanel');
  const form = document.getElementById('gateForm');
  const passInput = document.getElementById('pass');
  const gateMsg = document.getElementById('gateMsg');
  const app = document.getElementById('app');

  function showApp(){
    gate.style.display = 'none';
    app.classList.remove('hidden');
    app.focus({ preventScroll: true });
  }
  function showGate(){
    gate.style.display = 'grid';
    app.classList.add('hidden');
    passInput.value = '';
    gateMsg.textContent = '';
    setTimeout(() => passInput.focus(), 0);
  }

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    const pw = passInput.value.trim();
    if (!pw) return;
    const hex = await sha256Hex(pw);
    if (CONFIG.passwordHashes.includes(hex)) {
      setRemembered(hex);
      showApp();
    } else {
      gateMsg.textContent = "Incorrect code. Try again.";
      panel.classList.remove('shake');
      // reflow to restart animation
      void panel.offsetWidth;
      panel.classList.add('shake');
    }
  });

  document.getElementById('lockBtn').addEventListener('click', () => {
    clearRemember();
    showGate();
  });

  // ===== Gallery builder =====
  function el(tag, attrs={}, ...children){
    const node = document.createElement(tag);
    for (const [k,v] of Object.entries(attrs)){
      if (v === null || v === undefined) continue;
      if (k === 'class') node.className = v;
      else if (k.startsWith('on') && typeof v === 'function') node.addEventListener(k.slice(2), v);
      else if (k === 'html') node.innerHTML = v;
      else node.setAttribute(k, v);
    }
    for (const c of children){
      if (c == null) continue;
      node.appendChild(typeof c === 'string' ? document.createTextNode(c) : c);
    }
    return node;
  }

  function buildGallery(items){
    const list = document.getElementById('gallery');
    list.innerHTML = '';
    const data = Array.isArray(items) && items.length ? items : [{
      src: PLACEHOLDER_SVG, alt: "Placeholder image", label: "Sample", note: "Edit CONFIG.images in the HTML to add your own images and notes."
    }];

    data.forEach((it, i) => {
      const noteId = `note-${i}`;
      const img = el('img', { src: it.src || PLACEHOLDER_SVG, alt: it.alt || "" });
      const btn = el('button', { class: 'note-toggle', 'aria-controls': noteId, 'aria-expanded': 'false', type: 'button' }, 'Show note');
      const label = el('div', { class: 'label', title: it.label || '' }, it.label || '');
      const controls = el('div', { class: 'controls' }, label, btn);
      const note = el('figcaption', { class: 'note', id: noteId, hidden: true }, el('p', {}, it.note || ''));

      const card = el('figure', { class: 'card', role: 'listitem' }, img, controls, note);

      function toggleNote(){
        const willShow = note.hidden;
        note.hidden = !willShow;
        btn.setAttribute('aria-expanded', String(willShow));
        btn.textContent = willShow ? 'Hide note' : 'Show note';
      }
      btn.addEventListener('click', toggleNote);

      if (CONFIG.clickAnywhereToToggle) {
        img.style.cursor = 'pointer';
        card.addEventListener('click', (ev) => {
          // avoid double-trigger when clicking the button
          if (ev.target === btn) return;
          toggleNote();
        });
      }

      list.appendChild(card);
    });
  }

  // ===== Init =====
  (function init(){
    setSiteTitle();
    buildGallery(CONFIG.images);
    if (hasValidRemember()) showApp(); else showGate();
  })();
</script>

</body>
</html>
